function F(){for(a.clearRect(0,0,W,W),A=T(t-11),i=0;O>i;L.b=L.z*A-L.x*T(t))(L=J[i++]).a=L.x*A+L.z*T(t);for(J.sort(function(i,t){return i.b-t.b}),a.font="40px Comic Sans MS",a.fillStyle="#e61b05",i=0;O>i;a.drawImage(n[(L=J[i++]).n],207+L.a>>0,150+L.y>>0))i==O>>1&&a.fillText("С новым годом!",65,396);t+=.02,setTimeout(F,9)}var b=document.body,c=document.getElementsByTagName("canvas")[0],a=c.getContext("2d");for(document.body.clientWidth,n=[],M=Math,Q=M.random,c.height=c.width=W=t=446,J=[],U=16,T=M.sin,O=k=0;12>k;k++)with(n[k]=c.cloneNode(0))with(width=height=32,getContext("2d"))if(k>9)for(i=0;99>i;i+=U)beginPath(),fillStyle=V+(147+i)+","+(k%2?128+i:0)+","+i+",.5)",arc(U-i/48,24-i/32,8-i/U,0,2*M.PI,1),fill();else for(i=W;x=T(i)*U,y=32*Q()-U,E=x-10,D=y-12,B=M.sqrt(E*E+D*D),R=(70+4*B)*(L=k/9+.8)>>1,i--;)256>x*x+y*y&&(strokeStyle=(V="rgba(")+R+","+(R+(B*L>>2))+",40,.1)",beginPath(),moveTo(U+x/2,U+y/2),lineTo(U+x,U+y),stroke());for(j=200;j--;)for(H=j+25*M.sqrt(j),L=H/U,R=Q()*W,y=H/2-99,x=z=i=0;V=3,S=i/L*20,L>i;i++,x+=T(R)*V+6*Q()-3,z+=T(R-11)*V+6*Q()-3,y+=8*Q()-4,J[O++]={x:x,y:y,z:z,n:S>>1})i+1>=L&&Q()>.8&&(V=9,S+=4*Q());F();