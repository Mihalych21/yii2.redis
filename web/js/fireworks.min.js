function write_fire(e){var t;for(stars[e+"r"]=createDiv("|",12),boddie.appendChild(stars[e+"r"]),t=bits*e;bits+bits*e>t;t++)stars[t]=createDiv("*",13),boddie.appendChild(stars[t])}function createDiv(e,t){var o=document.createElement("div");return o.style.font=t+"px monospace",o.style.position="absolute",o.style.backgroundColor="transparent",o.appendChild(document.createTextNode(e)),o}function launch(e){colour[e]=Math.floor(Math.random()*colours.length),Xpos[e+"r"]=.5*swide,Ypos[e+"r"]=shigh-5,bangheight[e]=Math.round((.5+Math.random())*shigh*.4),dX[e+"r"]=(Math.random()-.5)*swide/bangheight[e],stars[e+"r"].firstChild.nodeValue=dX[e+"r"]>1.25?"/":dX[e+"r"]<-1.25?"\\":"|",stars[e+"r"].style.color=colours[colour[e]]}function bang(e){var t,o,n=0;for(t=bits*e;bits+bits*e>t;t++)o=stars[t].style,o.left=Xpos[t]+"px",o.top=Ypos[t]+"px",decay[t]?decay[t]--:n++,15==decay[t]?o.fontSize="7px":7==decay[t]?o.fontSize="2px":1==decay[t]&&(o.visibility="hidden"),Xpos[t]+=dX[t],Ypos[t]+=dY[t]+=1.25/intensity[e];n!=bits&&setTimeout("bang("+e+")",speed)}function stepthrough(e){var t,o,n,i=Xpos[e+"r"],d=Ypos[e+"r"];if(Xpos[e+"r"]+=dX[e+"r"],Ypos[e+"r"]-=4,Ypos[e+"r"]<bangheight[e]){for(o=Math.floor(3*Math.random()*colours.length),intensity[e]=5+4*Math.random(),t=e*bits;bits+bits*e>t;t++)Xpos[t]=Xpos[e+"r"],Ypos[t]=Ypos[e+"r"],dY[t]=(Math.random()-.5)*intensity[e],dX[t]=(Math.random()-.5)*(intensity[e]-Math.abs(dY[t]))*1.25,decay[t]=16+Math.floor(16*Math.random()),n=stars[t],n.style.color=o<colours.length?colours[t%2?colour[e]:o]:o<2*colours.length?colours[colour[e]]:colours[t%colours.length],n.style.fontSize="13px",n.style.visibility="visible";bang(e),launch(e)}stars[e+"r"].style.left=i+"px",stars[e+"r"].style.top=d+"px"}function set_width(){var e=999999,t=999999;document.documentElement&&document.documentElement.clientWidth&&(document.documentElement.clientWidth>0&&(e=document.documentElement.clientWidth),document.documentElement.clientHeight>0&&(t=document.documentElement.clientHeight)),"undefined"!=typeof self.innerWidth&&self.innerWidth&&(self.innerWidth>0&&self.innerWidth<e&&(e=self.innerWidth),self.innerHeight>0&&self.innerHeight<t&&(t=self.innerHeight)),document.body.clientWidth&&(document.body.clientWidth>0&&document.body.clientWidth<e&&(e=document.body.clientWidth),document.body.clientHeight>0&&document.body.clientHeight<t&&(t=document.body.clientHeight)),(999999==e||999999==t)&&(e=800,t=600),swide=e,shigh=t}var bits=90,speed=33,bangs=7,colours=new Array("#03f","#f03","#0e0","#93f","#0cf","#f93","#f0c"),bangheight=new Array,intensity=new Array,colour=new Array,Xpos=new Array,Ypos=new Array,dX=new Array,dY=new Array,stars=new Array,decay=new Array,swide=800,shigh=600,boddie;window.onload=function(){var e=document.querySelector(".shtorka");if(e.classList.add("shtorka-animate"),document.getElementById){var t;for(boddie=document.createElement("div"),boddie.style.position="fixed",boddie.style.top="0px",boddie.style.left="0px",boddie.style.overflow="visible",boddie.style.width="1px",boddie.style.height="1px",boddie.style.backgroundColor="transparent",document.body.appendChild(boddie),set_width(),t=0;bangs>t;t++)write_fire(t),launch(t),setInterval("stepthrough("+t+")",speed)}},window.onresize=set_width;